{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/GalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/services/Pixabay.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.jsx","index.js","components/Searchbar/search.module.css"],"names":["module","exports","Searchbar","state","searchValue","handleInputChange","event","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","style","SearchForm","type","SearchFormbutton","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imgArr","map","elem","src","webformatURL","alt","tags","onClick","onImageClick","ImageGalleryItem_image","id","PixabayFetch","BASE_URL","API_KEY","_searchQuery","_page","perPage","query","params","url","axios","get","then","result","data","catch","console","log","Modal","handleEsc","e","code","toggleModal","handleClose","target","window","addEventListener","removeEventListener","Overlay","largeImg","largeImageURL","Button","handleClick","newPixabayFetch","ImageGallery","status","showModal","page","searchImg","prev","hits","scroll","find","el","prevProps","prevState","resetPage","length","title","Loader","color","height","width","timeout","Error_title","App","handleSearchFormSubmit","scrollTo","top","document","documentElement","offsetHeight","behavior","onPageScroll","autoClose","ReactDOM","render","StrictMode","getElementById","querySelector"],"mappings":"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","file":"static/js/main.3dfec5f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2_nLR\",\"title\":\"ImageGallery_title__3kk5d\",\"Loader\":\"ImageGallery_Loader___TGps\",\"Error_title\":\"ImageGallery_Error_title__2Hy94\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"GalleryItem_ImageGalleryItem__2vBOv\",\"ImageGalleryItem_image\":\"GalleryItem_ImageGalleryItem_image__1mAjt\",\"ImageGalleryItem-image\":\"GalleryItem_ImageGalleryItem-image__1zuxL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2mj1Z\",\"Modal\":\"Modal_Modal__2AHPL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1hnTZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__UvW3P\"};","// import { ImSearch } from 'react-icons/im';\r\nimport React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport { Component } from \"react\";\r\nimport style from '../Searchbar/search.module.css';\r\n\r\n\r\n\r\n\r\nexport default class Searchbar extends Component{\r\n    state = {\r\n    searchValue:'',\r\n}\r\n    \r\n    handleInputChange = event => {\r\n        this.setState({\r\n            searchValue: event.currentTarget.value\r\n        });\r\n    };\r\n    \r\n    \r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        if (this.state.searchValue.trim() === '') {\r\n            toast.error('enter something to start searching');\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.searchValue);\r\n\r\n        this.setState({searchValue: '' });\r\n    }\r\n    \r\n    render() {\r\n        const {handleSubmit,handleInputChange } = this;\r\n        return (\r\n            <header className={style.Searchbar}>\r\n                <form className={style.SearchForm}\r\n                    onSubmit={handleSubmit}>\r\n                    <button type=\"submit\" className={style.SearchFormbutton}>\r\n                        <span className={style.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={style.SearchForm_input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.searchValue}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n            \r\n        );\r\n        }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func,\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../ImageGalleryItem/GalleryItem.module.css';\r\n\r\n\r\nexport default  class ImageGalleryItem extends Component {\r\n    \r\n    render() {\r\n        return this.props.imgArr.map((elem) => (\r\n            <li className={style.ImageGalleryItem} key={elem.id}>\r\n                <img\r\n                    src={elem.webformatURL}\r\n                    alt={elem.tags}\r\n                    onClick={this.props.onImageClick}\r\n                    className={style.ImageGalleryItem_image} />\r\n            </li>\r\n        ));\r\n    }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    imgArr: PropTypes.array,\r\n    onImageClick: PropTypes.func,\r\n}\r\n","import axios from 'axios';\r\n\r\n\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\nconst API_KEY = `23035596-1a90b7391e585725696c71550`;\r\n\r\n class PixabayFetch {\r\n    \r\n    constructor() {\r\n        this.BASE_URL = BASE_URL;\r\n        this.API_KEY = API_KEY;\r\n        this._searchQuery = '';\r\n        this._page = 1;\r\n        this.perPage = 12;\r\n        \r\n    }\r\n    get searchQuery() {\r\n        return this._searchQuery;\r\n    }\r\n    set searchQuery(query) {\r\n        this._searchQuery = query;\r\n    }\r\n\r\n    get page() {\r\n        return this._page;\r\n    }\r\n    set page(value) {\r\n        this._page += value;\r\n    }\r\n\r\n    resetPage() {\r\n        this._page = 1;\r\n    }\r\n\r\n\r\n    searchImg() {\r\n        let params = `?image_type=photo&orientation=horizontal&q=${this._searchQuery}&page=${this._page}&key=${this.API_KEY}&per_page=${this.perPage}`;\r\n        let url = this.BASE_URL + params;\r\n        return axios\r\n            .get(url)\r\n            .then((result) => result.data  \r\n            )            \r\n            .catch((error) => {\r\n                console.log(error);\r\n                \r\n            });\r\n    }\r\n}\r\n\r\nexport default PixabayFetch;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../Modal/Modal.module.css';\r\n\r\n\r\nexport default class Modal extends Component{\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleEsc);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleEsc);\r\n    }\r\n\r\n    handleEsc = (e) => {\r\n        if (e.code === \"Escape\") {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n    handleClose = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal();\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n        return (<div className={style.Overlay} onClick={this.handleClose}>\r\n            <div className={style.Modal}>\r\n                <img\r\n                    src={this.props.largeImg.largeImageURL}\r\n                    alt={this.props.tags} />\r\n            </div>\r\n        </div>);\r\n        \r\n\r\n\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    largeImg: PropTypes.object,\r\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../Button/Button.module.css';\r\n\r\nexport default class Button extends Component {\r\n handleClick = () => {\r\n    return this.props.onClick(1);\r\n  };\r\n\r\n    render() {\r\n        return (\r\n            <button\r\n                className={style.Button}\r\n                        type=\"button\"\r\n                        onClick={this.handleClick}\r\n                        >\r\n                        Load more\r\n                    </button>\r\n        )\r\n    }\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from 'react-loader-spinner';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PixabayFetch from '../services/Pixabay';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\nimport style from '../ImageGallery/ImageGallery.module.css';\r\n\r\n\r\n\r\nconst newPixabayFetch = new PixabayFetch();\r\n \r\n export default  class ImageGallery extends Component{\r\n    state = {\r\n        imgArr: [],\r\n        status: \"idle\",\r\n        showModal: false,\r\n        largeImg: null,\r\n        page: 1,\r\n\r\n    }\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.searchValue !== this.props.searchValue) {\r\n            this.setState({ status: 'pending' });\r\n            newPixabayFetch.resetPage();\r\n          newPixabayFetch._searchQuery = this.props.searchValue;\r\n            newPixabayFetch.searchImg()\r\n                .then((data) => {\r\n                    if (data.hits.length > 0) {\r\n                        this.setState({\r\n                            imgArr:data.hits,\r\n                            page: newPixabayFetch.page,\r\n                            status:'success',\r\n                        });\r\n                    } else {\r\n                        this.setState({ status: 'error' });\r\n                    }\r\n            \r\n          })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                this.setState({ status: 'error' });\r\n            });\r\n          \r\n    }\r\n    }\r\n     handleClick = () => {\r\n    newPixabayFetch.page = 1;\r\n    newPixabayFetch.searchImg()\r\n      .then((data) => {\r\n        this.setState((prev) => ({\r\n          imgArr: [...prev.imgArr, ...data.hits],\r\n          page: newPixabayFetch.page,\r\n          status: 'success',\r\n        }));\r\n        this.props.scroll();\r\n      })\r\n      .catch((error) => {\r\n          this.setState({ status: 'error' });\r\n      });\r\n    };\r\n     \r\n    \r\n    toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n    };\r\n    \r\n    onImageClick = (e) => {\r\n    e.preventDefault();\r\n    let src = e.target.src;\r\n    this.setState({\r\n      largeImg: this.state.imgArr.find((el) => el.webformatURL === src),\r\n    });\r\n    this.toggleModal();\r\n     };\r\n     \r\n\r\n    render() {\r\n        const { imgArr, showModal, status, largeImg } = this.state;\r\n        if (status === \"idle\") {\r\n            return <h2 className={style.title}>Please, start typing your query!</h2>\r\n            \r\n           \r\n    }\r\n        if (status === \"pending\") {\r\n            return ( \r\n                <Loader\r\n                    className={style.Loader}\r\n                    type=\"Bars\"\r\n                    color=\"#00BFFF\"\r\n                    height={80}\r\n                    width={80}\r\n                    timeout={9000} \r\n                />\r\n                \r\n            );\r\n        }\r\n        if (status === \"success\") {\r\n            return (\r\n                <>\r\n                    <ul className={style.ImageGallery}>\r\n                        <ImageGalleryItem\r\n                            imgArr={imgArr}\r\n                            onImageClick={this.onImageClick}\r\n                        />\r\n                    </ul>\r\n                    <Button\r\n                        onClick={this.handleClick}\r\n                    ></Button>\r\n                    {showModal && (\r\n                        <Modal\r\n                            toggleModal={this.toggleModal}\r\n                            largeImg={largeImg}></Modal>\r\n                    )}\r\n                </>\r\n            );\r\n    }\r\n        if (status === \"error\") {\r\n             \r\n            return <h2 className={style.Error_title}>Oh no, there are nothing to show you!</h2>\r\n    }\r\n    }\r\n    \r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchValue: PropTypes.string,\r\n  scroll: PropTypes.func,\r\n};\r\n\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport style from './App.module.css';\n\n\n\n\n\n    class App extends Component {\n      state = {\n        searchValue: '',\n        \n      }\n      \n      handleSearchFormSubmit = (data)=> {\n        this.setState({ searchValue:data });\n        \n      };\n       \n      onPageScroll() {\n    window.scrollTo({\n      top: document.documentElement.offsetHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n\n      render() {\n        const { searchValue } = this.state;\n        const {handleSearchFormSubmit, onPageScroll} = this;\n        return (\n          \n          <div className={style.App}>\n            <Searchbar onSubmit={handleSearchFormSubmit} />\n            <ImageGallery\n              searchValue={searchValue}\n               scroll={onPageScroll}\n            />\n            <ToastContainer autoClose={3000}\n          \n            />\n          </div>\n        );\n\n      }\n    }\n\n    \n  \n\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"search_Searchbar__5BAzM\",\"SearchForm\":\"search_SearchForm__1zlRv\",\"SearchFormbutton\":\"search_SearchFormbutton__3PVkS\",\"SearchForm_button_label\":\"search_SearchForm_button_label__-0AJr\",\"SearchForm_input\":\"search_SearchForm_input__15_sE\",\"SearchForm-input\":\"search_SearchForm-input__3Fvcn\"};"],"sourceRoot":""}