(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2_nLR",title:"ImageGallery_title__3kk5d",Loader:"ImageGallery_Loader___TGps",Error_title:"ImageGallery_Error_title__2Hy94"}},15:function(e,t,a){e.exports={ImageGalleryItem:"GalleryItem_ImageGalleryItem__2vBOv",ImageGalleryItem_image:"GalleryItem_ImageGalleryItem_image__1mAjt","ImageGalleryItem-image":"GalleryItem_ImageGalleryItem-image__1zuxL"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2mj1Z",Modal:"Modal_Modal__2AHPL"}},28:function(e,t,a){e.exports={Button:"Button_Button__1hnTZ"}},29:function(e,t,a){e.exports={App:"App_App__UvW3P"}},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),o=a.n(c),s=a(3),l=a(4),i=a(7),u=a(6),h=a(13),m=(a(34),a(8)),g=a.n(m),p=a(1),d=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchValue:""},e.handleInputChange=function(t){e.setState({searchValue:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchValue.trim()?(e.props.onSubmit(e.state.searchValue),e.setState({searchValue:""})):h.b.error("enter something to start searching")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.handleSubmit,t=this.handleInputChange;return Object(p.jsx)("header",{className:g.a.Searchbar,children:Object(p.jsxs)("form",{className:g.a.SearchForm,onSubmit:e,children:[Object(p.jsx)("button",{type:"submit",className:g.a.SearchFormbutton,children:Object(p.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})}),Object(p.jsx)("input",{className:g.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchValue,onChange:t})]})})}}]),a}(r.Component),b=a(17),_=a(26),j=a.n(_),f=a(15),y=a.n(f),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.props.imgArr.map((function(t){return Object(p.jsx)("li",{className:y.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:t.webformatURL,alt:t.tags,onClick:e.props.onImageClick,className:y.a.ImageGalleryItem_image})},t.id)}))}}]),a}(r.Component),v=a(27),S=a.n(v),I=function(){function e(){Object(s.a)(this,e),this.BASE_URL="https://pixabay.com/api/",this.API_KEY="23035596-1a90b7391e585725696c71550",this._searchQuery="",this._page=1,this.perPage=12}return Object(l.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){this._page+=e}},{key:"resetPage",value:function(){this._page=1}},{key:"searchImg",value:function(){var e="?image_type=photo&orientation=horizontal&q=".concat(this._searchQuery,"&page=").concat(this._page,"&key=").concat(this.API_KEY,"&per_page=").concat(this.perPage),t=this.BASE_URL+e;return S.a.get(t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}]),e}(),k=a(16),x=a.n(k),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleEsc=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEsc)}},{key:"render",value:function(){return Object(p.jsx)("div",{className:x.a.Overlay,onClick:this.handleClose,children:Object(p.jsx)("div",{className:x.a.Modal,children:Object(p.jsx)("img",{src:this.props.largeImg.largeImageURL,alt:this.props.tags})})})}}]),a}(r.Component),C=a(28),A=a.n(C),F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){return e.props.onClick(1)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("button",{className:A.a.Button,type:"button",onClick:this.handleClick,children:"Load more"})}}]),a}(r.Component),G=a(10),M=a.n(G),E=new I,N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={imgArr:[],status:"idle",showModal:!1,largeImg:null,page:1},e.handleClick=function(){E.page=1,E.searchImg().then((function(t){e.setState((function(e){return{imgArr:[].concat(Object(b.a)(e.imgArr),Object(b.a)(t.hits)),page:E.page,status:"success"}})),e.props.scroll()})).catch((function(t){e.setState({status:"error"})}))},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.onImageClick=function(t){t.preventDefault();var a=t.target.src;e.setState({largeImg:e.state.imgArr.find((function(e){return e.webformatURL===a}))}),e.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.searchValue!==this.props.searchValue&&(this.setState({status:"pending"}),E.resetPage(),E._searchQuery=this.props.searchValue,E.searchImg().then((function(e){e.hits.length>0?a.setState({imgArr:e.hits,page:E.page,status:"success"}):a.setState({status:"error"})})).catch((function(e){console.log(e),a.setState({status:"error"})})))}},{key:"render",value:function(){var e=this.state,t=e.imgArr,a=e.showModal,r=e.status,n=e.largeImg;return"idle"===r?Object(p.jsx)("h2",{className:M.a.title,children:"Please, start typing your query!"}):"pending"===r?Object(p.jsx)(j.a,{className:M.a.Loader,type:"Bars",color:"#00BFFF",height:80,width:80,timeout:9e3}):"success"===r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{className:M.a.ImageGallery,children:Object(p.jsx)(O,{imgArr:t,onImageClick:this.onImageClick})}),Object(p.jsx)(F,{onClick:this.handleClick}),a&&Object(p.jsx)(w,{toggleModal:this.toggleModal,largeImg:n})]}):"error"===r?Object(p.jsx)("h2",{className:M.a.Error_title,children:"Oh no, there are nothing to show you!"}):void 0}}]),a}(r.Component),L=a(29),V=a.n(L),P=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchValue:""},e.handleSearchFormSubmit=function(t){e.setState({searchValue:t})},e}return Object(l.a)(a,[{key:"onPageScroll",value:function(){window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state.searchValue,t=this.handleSearchFormSubmit,a=this.onPageScroll;return Object(p.jsxs)("div",{className:V.a.App,children:[Object(p.jsx)(d,{onSubmit:t}),Object(p.jsx)(N,{searchValue:e,scroll:a}),Object(p.jsx)(h.a,{autoClose:3e3})]})}}]),a}(r.Component),B=P;o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),o.a.render(Object(p.jsx)(B,{}),document.querySelector("#root"))},8:function(e,t,a){e.exports={Searchbar:"search_Searchbar__5BAzM",SearchForm:"search_SearchForm__1zlRv",SearchFormbutton:"search_SearchFormbutton__3PVkS",SearchForm_button_label:"search_SearchForm_button_label__-0AJr",SearchForm_input:"search_SearchForm_input__15_sE","SearchForm-input":"search_SearchForm-input__3Fvcn"}}},[[74,1,2]]]);
//# sourceMappingURL=main.3dfec5f9.chunk.js.map